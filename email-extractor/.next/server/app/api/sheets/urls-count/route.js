"use strict";(()=>{var e={};e.id=350,e.ids=[350],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},6224:e=>{e.exports=require("tty")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},69:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>x,originalPathname:()=>q,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var s={};t.r(s),t.d(s,{POST:()=>p});var o=t(5419),u=t(9108),a=t(9678),i=t(8070),n=t(3949);async function p(e){try{let{sheetUrl:r,column:t}=await e.json();if(!r||!t)return i.Z.json({error:"Sheet URL and column are required"},{status:400});let s=function(e){try{let r=e.match(/\/spreadsheets\/d\/([a-zA-Z0-9-_]+)/);if(!r)throw Error("Invalid Google Sheet URL");return r[1]}catch(e){throw Error("Invalid Google Sheet URL")}}(r),o=`https://docs.google.com/spreadsheets/d/${s}/export?format=csv`,u=(await n.Z.get(o)).data.split("\n"),a=u[0].split(",").map(e=>e.trim().replace(/^"|"$/g,"")).indexOf(t);if(-1===a)throw Error("Column not found");let p=u.slice(1).map(e=>{let r=e.split(","),t=r[a]?.toLowerCase()||"";return t.includes("http")||t.includes("www.")?1:0}).reduce((e,r)=>e+r,0);return i.Z.json({count:p})}catch(e){return console.error("Error counting URLs:",e),i.Z.json({error:e.message||"Failed to count URLs"},{status:500})}}let l=new o.AppRouteRouteModule({definition:{kind:u.x.APP_ROUTE,page:"/api/sheets/urls-count/route",pathname:"/api/sheets/urls-count",filename:"route",bundlePath:"app/api/sheets/urls-count/route"},resolvedPagePath:"/Users/sankalp/fs5/email-extractor/app/api/sheets/urls-count/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:x,staticGenerationBailout:m}=l,q="/api/sheets/urls-count/route";function f(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,206,949],()=>t(69));module.exports=s})();